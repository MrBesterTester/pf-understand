<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Chapter 6: Caching System | Two Tutorials for Mojo using Pocket Flow</title> <meta name="generator" content="Jekyll v4.3.4" /> <meta property="og:title" content="Chapter 6: Caching System" /> <meta name="author" content="Sam Kirk" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Documentation generated using AI to explain codebases" /> <meta property="og:description" content="Documentation generated using AI to explain codebases" /> <link rel="canonical" href="http://localhost:4000/my-crawl4ai/06_caching_system_.html" /> <meta property="og:url" content="http://localhost:4000/my-crawl4ai/06_caching_system_.html" /> <meta property="og:site_name" content="Two Tutorials for Mojo using Pocket Flow" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Chapter 6: Caching System" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Sam Kirk","url":"https://www.linkedin.com/in/samuelkirk"},"description":"Documentation generated using AI to explain codebases","headline":"Chapter 6: Caching System","url":"http://localhost:4000/my-crawl4ai/06_caching_system_.html"}</script> <!-- End Jekyll SEO tag --> <!-- Add Mermaid support --> <script src="https://cdn.jsdelivr.net/npm/mermaid@11.6.0/dist/mermaid.min.js"></script> <script> document.addEventListener("DOMContentLoaded", function() { mermaid.initialize({ startOnLoad: true, theme: "default" }); // Process code blocks document.querySelectorAll('pre code.language-mermaid').forEach(function(block) { // Create a div with class 'mermaid' var mermaidDiv = document.createElement('div'); mermaidDiv.className = 'mermaid'; mermaidDiv.innerHTML = block.textContent; // Replace the parent pre with the mermaid div block.parentNode.parentNode.replaceChild(mermaidDiv, block.parentNode); console.log("Processed Mermaid block:", mermaidDiv.innerHTML.substring(0, 50) + "..."); }); console.log("Mermaid initialization complete. Version:", mermaid.version()); }); </script> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> Two Tutorials for Mojo using Pocket Flow </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">README</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Crawl4AI category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/Crawl4AI/" class="nav-list-link">Crawl4AI</a><ul class="nav-list"><li class="nav-list-item "><a href="/Crawl4AI/01_asynccrawlerstrategy.html" class="nav-list-link">AsyncCrawlerStrategy</a></li><li class="nav-list-item "><a href="/Crawl4AI/01_configuration_system_.html" class="nav-list-link">Chapter 1: Configuration System</a></li><li class="nav-list-item "><a href="/Crawl4AI/02_asyncwebcrawler.html" class="nav-list-link">AsyncWebCrawler</a></li><li class="nav-list-item "><a href="/Crawl4AI/02_asyncwebcrawler_.html" class="nav-list-link">Chapter 2: AsyncWebCrawler</a></li><li class="nav-list-item "><a href="/Crawl4AI/03_content_extraction_pipeline_.html" class="nav-list-link">Chapter 3: Content Extraction Pipeline</a></li><li class="nav-list-item "><a href="/Crawl4AI/03_crawlerrunconfig.html" class="nav-list-link">CrawlerRunConfig</a></li><li class="nav-list-item "><a href="/Crawl4AI/04_contentscrapingstrategy.html" class="nav-list-link">ContentScrapingStrategy</a></li><li class="nav-list-item "><a href="/Crawl4AI/04_url_filtering___scoring_.html" class="nav-list-link">Chapter 4: URL Filtering & Scoring</a></li><li class="nav-list-item "><a href="/Crawl4AI/05_deep_crawling_system_.html" class="nav-list-link">Chapter 5: Deep Crawling System</a></li><li class="nav-list-item "><a href="/Crawl4AI/05_relevantcontentfilter.html" class="nav-list-link">RelevantContentFilter</a></li><li class="nav-list-item "><a href="/Crawl4AI/06_caching_system_.html" class="nav-list-link">Chapter 6: Caching System</a></li><li class="nav-list-item "><a href="/Crawl4AI/06_extractionstrategy.html" class="nav-list-link">ExtractionStrategy</a></li><li class="nav-list-item "><a href="/Crawl4AI/07_crawlresult.html" class="nav-list-link">CrawlResult</a></li><li class="nav-list-item "><a href="/Crawl4AI/07_dispatcher_framework_.html" class="nav-list-link">Chapter 7: Dispatcher Framework</a></li><li class="nav-list-item "><a href="/Crawl4AI/08_async_logging_infrastructure_.html" class="nav-list-link">Chapter 8: Async Logging Infrastructure</a></li><li class="nav-list-item "><a href="/Crawl4AI/08_deepcrawlstrategy.html" class="nav-list-link">DeepCrawlStrategy</a></li><li class="nav-list-item "><a href="/Crawl4AI/09_cachecontext___cachemode.html" class="nav-list-link">CacheContext & CacheMode</a></li><li class="nav-list-item "><a href="/Crawl4AI/09_api___docker_integration_.html" class="nav-list-link">Chapter 9: API & Docker Integration</a></li><li class="nav-list-item "><a href="/Crawl4AI/10_basedispatcher.html" class="nav-list-link">BaseDispatcher</a></li></ul></li><li class="nav-list-item active"><button class="nav-list-expander btn-reset" aria-label="toggle items in My Tutorial for Crawl4ai category" aria-pressed="true"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/my-crawl4AI/" class="nav-list-link">My Tutorial for Crawl4ai</a><ul class="nav-list"><li class="nav-list-item "><a href="/my-crawl4ai/01_configuration_system_.html" class="nav-list-link">Chapter 1: Configuration System</a></li><li class="nav-list-item "><a href="/my-crawl4ai/02_asyncwebcrawler_.html" class="nav-list-link">Chapter 2: AsyncWebCrawler</a></li><li class="nav-list-item "><a href="/my-crawl4ai/03_content_extraction_pipeline_.html" class="nav-list-link">Chapter 3: Content Extraction Pipeline</a></li><li class="nav-list-item "><a href="/my-crawl4ai/04_url_filtering___scoring_.html" class="nav-list-link">Chapter 4: URL Filtering & Scoring</a></li><li class="nav-list-item "><a href="/my-crawl4ai/05_deep_crawling_system_.html" class="nav-list-link">Chapter 5: Deep Crawling System</a></li><li class="nav-list-item active"><a href="/my-crawl4ai/06_caching_system_.html" class="nav-list-link active">Chapter 6: Caching System</a></li><li class="nav-list-item "><a href="/my-crawl4ai/07_dispatcher_framework_.html" class="nav-list-link">Chapter 7: Dispatcher Framework</a></li><li class="nav-list-item "><a href="/my-crawl4ai/08_async_logging_infrastructure_.html" class="nav-list-link">Chapter 8: Async Logging Infrastructure</a></li><li class="nav-list-item "><a href="/my-crawl4ai/09_api___docker_integration_.html" class="nav-list-link">Chapter 9: API & Docker Integration</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in My Tutorial for Modular's Max category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/modular_max/" class="nav-list-link">My Tutorial for Modular's Max</a><ul class="nav-list"><li class="nav-list-item "><a href="/modular_max/01_settings___settings__class__.html" class="nav-list-link">Chapter 1: Settings Class</a></li><li class="nav-list-item "><a href="/modular_max/02_serving_api_layer__fastapi_app___routers__.html" class="nav-list-link">Chapter 2: Serving API Layer</a></li><li class="nav-list-item "><a href="/modular_max/03_llm_pipeline_orchestrator___tokengeneratorpipeline___.html" class="nav-list-link">Chapter 3: LLM Pipeline Orchestrator</a></li><li class="nav-list-item "><a href="/modular_max/04_model_worker_.html" class="nav-list-link">Chapter 4: Model Worker</a></li><li class="nav-list-item "><a href="/modular_max/05_scheduler___tokengenerationscheduler____embeddingsscheduler___.html" class="nav-list-link">Chapter 5: Scheduler</a></li><li class="nav-list-item "><a href="/modular_max/06_kv_cache_management_.html" class="nav-list-link">Chapter 6: KV Cache Management</a></li><li class="nav-list-item "><a href="/modular_max/07_enginequeue_.html" class="nav-list-link">Chapter 7: EngineQueue</a></li><li class="nav-list-item "><a href="/modular_max/08_telemetry_and_metrics___metrics____metricclient___.html" class="nav-list-link">Chapter 8: Telemetry and Metrics</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in My Tutorial for Mojo v1 category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/mojo-v1/" class="nav-list-link">My Tutorial for Mojo v1</a><ul class="nav-list"><li class="nav-list-item "><a href="/mojo-v1/01_addressspace_.html" class="nav-list-link">Chapter 1: AddressSpace</a></li><li class="nav-list-item "><a href="/mojo-v1/02_unsafepointer_.html" class="nav-list-link">Chapter 2: UnsafePointer</a></li><li class="nav-list-item "><a href="/mojo-v1/03_indexlist_.html" class="nav-list-link">Chapter 3: IndexList</a></li><li class="nav-list-item "><a href="/mojo-v1/04_dimlist_.html" class="nav-list-link">Chapter 4: DimList</a></li><li class="nav-list-item "><a href="/mojo-v1/05_ndbuffer_.html" class="nav-list-link">Chapter 5: NDBuffer</a></li><li class="nav-list-item "><a href="/mojo-v1/06_n_d_to_1d_indexing_logic__strided_memory_access__.html" class="nav-list-link">Chapter 6: N-D to 1D Indexing Logic</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in My Tutorial for Mojo v2 category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/mojo-v2/" class="nav-list-link">My Tutorial for Mojo v2</a><ul class="nav-list"><li class="nav-list-item "><a href="/mojo-v2/01_unsafepointer__as_used_by_ndbuffer__.html" class="nav-list-link">Chapter 1: UnsafePointer</a></li><li class="nav-list-item "><a href="/mojo-v2/02_dimlist_and_dim_.html" class="nav-list-link">Chapter 2: DimList and Dim</a></li><li class="nav-list-item "><a href="/mojo-v2/03_ndbuffer_.html" class="nav-list-link">Chapter 3: NDBuffer</a></li><li class="nav-list-item "><a href="/mojo-v2/04_strides_and_offset_computation_.html" class="nav-list-link">Chapter 4: Strides and Offset Computation</a></li><li class="nav-list-item "><a href="/mojo-v2/05_simd_data_access_.html" class="nav-list-link">Chapter 5: SIMD Data Access</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Comparisons category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/comparisons/" class="nav-list-link">Comparisons</a><ul class="nav-list"><li class="nav-list-item "><a href="/comparisons/crawl4ai-versions.html" class="nav-list-link">The original version of Crawl4AI vs. the sanity check I did</a></li><li class="nav-list-item "><a href="/comparisons/mojo-versions.html" class="nav-list-link">The 1st version of the Mojo Tutorial vs. The 2nd version of the Mojo Tutorial</a></li></ul></li><li class="nav-list-item"><a href="/generating/" class="nav-list-link">Generating & Preparing for the Mojo Tutorials using Pocket Flow</a></li><li class="nav-list-item"><a href="/design.html" class="nav-list-link">System Design</a></li></ul> <div class="nav-category">Crawl4AI</div> <ul class="nav-list"></ul> <div class="nav-category">Modular Max</div> <ul class="nav-list"></ul> <div class="nav-category">Mojo (v1)</div> <ul class="nav-list"></ul> <div class="nav-category">Mojo (v2)</div> <ul class="nav-list"></ul> <div class="nav-category">Generating</div> <ul class="nav-list"></ul> <div class="nav-category">AI Design</div> <ul class="nav-list"></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Two Tutorials for Mojo using Pocket Flow" aria-label="Search Two Tutorials for Mojo using Pocket Flow" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/MrBesterTester/pf-understand" class="site-button" > View on GitHub </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/my-crawl4AI/">My Tutorial for Crawl4ai</a></li> <li class="breadcrumb-nav-list-item"><span>Chapter 6: Caching System</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h1 id="chapter-6-caching-system"> <a href="#chapter-6-caching-system" class="anchor-heading" aria-labelledby="chapter-6-caching-system"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Chapter 6: Caching System </h1> <p>In <a href="05_deep_crawling_system_.md">Chapter 5: Deep Crawling System</a>, we learned how to explore websites beyond a single page. As you crawl multiple pages, you might notice something: crawling the same page multiple times wastes time and resources. This is where the Caching System comes in!</p> <h2 id="what-is-the-caching-system"> <a href="#what-is-the-caching-system" class="anchor-heading" aria-labelledby="what-is-the-caching-system"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> What is the Caching System? </h2> <p>Imagine you’re doing research for a school project. When you find a useful article online, you might save a copy or print it out so you don’t have to search for it again later. The Caching System in crawl4ai works the same way:</p> <ul> <li>It stores content you’ve already crawled (like HTML, extracted text, images)</li> <li>It lets you retrieve this content later without having to download it again</li> <li>It saves time, reduces network traffic, and is more polite to the websites you visit</li> </ul> <p>Let’s see how this works with a simple example:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">crawl4ai</span> <span class="kn">import</span> <span class="n">AsyncWebCrawler</span><span class="p">,</span> <span class="n">CrawlerRunConfig</span>
<span class="kn">from</span> <span class="nn">crawl4ai.cache_context</span> <span class="kn">import</span> <span class="n">CacheMode</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">crawl_with_cache</span><span class="p">():</span>
    <span class="c1"># First run: will download and cache the page
</span>    <span class="k">async</span> <span class="k">with</span> <span class="n">AsyncWebCrawler</span><span class="p">()</span> <span class="k">as</span> <span class="n">crawler</span><span class="p">:</span>
        <span class="n">result1</span> <span class="o">=</span> <span class="k">await</span> <span class="n">crawler</span><span class="p">.</span><span class="n">arun</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="s">"https://example.com"</span><span class="p">,</span>
            <span class="n">config</span><span class="o">=</span><span class="n">CrawlerRunConfig</span><span class="p">(</span><span class="n">cache_mode</span><span class="o">=</span><span class="n">CacheMode</span><span class="p">.</span><span class="n">ENABLED</span><span class="p">)</span>
        <span class="p">)</span>
        
    <span class="c1"># Second run: will use the cached version (much faster!)
</span>    <span class="k">async</span> <span class="k">with</span> <span class="n">AsyncWebCrawler</span><span class="p">()</span> <span class="k">as</span> <span class="n">crawler</span><span class="p">:</span>
        <span class="n">result2</span> <span class="o">=</span> <span class="k">await</span> <span class="n">crawler</span><span class="p">.</span><span class="n">arun</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="s">"https://example.com"</span><span class="p">,</span>
            <span class="n">config</span><span class="o">=</span><span class="n">CrawlerRunConfig</span><span class="p">(</span><span class="n">cache_mode</span><span class="o">=</span><span class="n">CacheMode</span><span class="p">.</span><span class="n">ENABLED</span><span class="p">)</span>
        <span class="p">)</span>
</code></pre></div></div> <p>In this example, the first crawl downloads the page from the internet and saves it to the cache. The second crawl doesn’t need to download the page again - it just retrieves the saved version from the cache!</p> <h2 id="how-caching-works-core-components"> <a href="#how-caching-works-core-components" class="anchor-heading" aria-labelledby="how-caching-works-core-components"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> How Caching Works: Core Components </h2> <p>The Caching System has three main components:</p> <h3 id="1-cachemode-enum-controlling-caching-behavior"> <a href="#1-cachemode-enum-controlling-caching-behavior" class="anchor-heading" aria-labelledby="1-cachemode-enum-controlling-caching-behavior"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1. CacheMode Enum: Controlling Caching Behavior </h3> <p>The <code class="language-plaintext highlighter-rouge">CacheMode</code> enum lets you decide how caching should work for each crawl operation:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">crawl4ai.cache_context</span> <span class="kn">import</span> <span class="n">CacheMode</span>

<span class="c1"># Different caching options
</span><span class="n">enabled</span> <span class="o">=</span> <span class="n">CacheMode</span><span class="p">.</span><span class="n">ENABLED</span>      <span class="c1"># Normal caching (read and write)
</span><span class="n">disabled</span> <span class="o">=</span> <span class="n">CacheMode</span><span class="p">.</span><span class="n">DISABLED</span>    <span class="c1"># No caching at all
</span><span class="n">read_only</span> <span class="o">=</span> <span class="n">CacheMode</span><span class="p">.</span><span class="n">READ_ONLY</span>  <span class="c1"># Only read from cache, don't write
</span><span class="n">write_only</span> <span class="o">=</span> <span class="n">CacheMode</span><span class="p">.</span><span class="n">WRITE_ONLY</span> <span class="c1"># Only write to cache, don't read
</span><span class="n">bypass</span> <span class="o">=</span> <span class="n">CacheMode</span><span class="p">.</span><span class="n">BYPASS</span>        <span class="c1"># Skip cache for this operation
</span></code></pre></div></div> <p>These modes give you precise control over when to use and update the cache.</p> <h3 id="2-cachecontext-making-caching-decisions"> <a href="#2-cachecontext-making-caching-decisions" class="anchor-heading" aria-labelledby="2-cachecontext-making-caching-decisions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2. CacheContext: Making Caching Decisions </h3> <p>The <code class="language-plaintext highlighter-rouge">CacheContext</code> class helps decide whether to read from or write to the cache for a specific URL:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">crawl4ai.cache_context</span> <span class="kn">import</span> <span class="n">CacheContext</span>

<span class="c1"># Create a cache context for a URL
</span><span class="n">context</span> <span class="o">=</span> <span class="n">CacheContext</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s">"https://example.com"</span><span class="p">,</span>
    <span class="n">cache_mode</span><span class="o">=</span><span class="n">CacheMode</span><span class="p">.</span><span class="n">ENABLED</span>
<span class="p">)</span>

<span class="c1"># Check if we should read from cache
</span><span class="k">if</span> <span class="n">context</span><span class="p">.</span><span class="n">should_read</span><span class="p">():</span>
    <span class="c1"># Try to get content from cache
</span>    
<span class="c1"># Check if we should write to cache
</span><span class="k">if</span> <span class="n">context</span><span class="p">.</span><span class="n">should_write</span><span class="p">():</span>
    <span class="c1"># Save content to cache
</span></code></pre></div></div> <p>The <code class="language-plaintext highlighter-rouge">CacheContext</code> considers both the cache mode and the URL type (for example, you can’t cache raw HTML).</p> <h3 id="3-asyncdatabasemanager-storing-and-retrieving-data"> <a href="#3-asyncdatabasemanager-storing-and-retrieving-data" class="anchor-heading" aria-labelledby="3-asyncdatabasemanager-storing-and-retrieving-data"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3. AsyncDatabaseManager: Storing and Retrieving Data </h3> <p>The <code class="language-plaintext highlighter-rouge">AsyncDatabaseManager</code> is the storage engine that actually saves and retrieves your cached content:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">crawl4ai.async_database</span> <span class="kn">import</span> <span class="n">async_db_manager</span>

<span class="c1"># Check if a URL is in the cache
</span><span class="n">cached_result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">async_db_manager</span><span class="p">.</span><span class="n">aget_cached_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="k">if</span> <span class="n">cached_result</span><span class="p">:</span>
    <span class="c1"># Use the cached content
</span>    
<span class="c1"># Store a new result in the cache
</span><span class="k">await</span> <span class="n">async_db_manager</span><span class="p">.</span><span class="n">acache_url</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div></div> <p>You don’t usually need to use this directly - the <code class="language-plaintext highlighter-rouge">AsyncWebCrawler</code> handles it for you.</p> <h2 id="using-the-cache-practical-examples"> <a href="#using-the-cache-practical-examples" class="anchor-heading" aria-labelledby="using-the-cache-practical-examples"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Using the Cache: Practical Examples </h2> <p>Let’s look at some common use cases for the Caching System:</p> <h3 id="example-1-basic-caching-default-behavior"> <a href="#example-1-basic-caching-default-behavior" class="anchor-heading" aria-labelledby="example-1-basic-caching-default-behavior"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example 1: Basic Caching (Default Behavior) </h3> <p>By default, crawl4ai has caching enabled:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">crawl4ai</span> <span class="kn">import</span> <span class="n">AsyncWebCrawler</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">basic_crawl</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">AsyncWebCrawler</span><span class="p">()</span> <span class="k">as</span> <span class="n">crawler</span><span class="p">:</span>
        <span class="c1"># Caching is enabled by default
</span>        <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">crawler</span><span class="p">.</span><span class="n">arun</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s">"https://example.com"</span><span class="p">)</span>
</code></pre></div></div> <p>This automatically saves the result and will use the cached version next time.</p> <h3 id="example-2-refreshing-the-cache-bypassing"> <a href="#example-2-refreshing-the-cache-bypassing" class="anchor-heading" aria-labelledby="example-2-refreshing-the-cache-bypassing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example 2: Refreshing the Cache (Bypassing) </h3> <p>Sometimes you want fresh content instead of cached content:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">crawl4ai</span> <span class="kn">import</span> <span class="n">AsyncWebCrawler</span><span class="p">,</span> <span class="n">CrawlerRunConfig</span>
<span class="kn">from</span> <span class="nn">crawl4ai.cache_context</span> <span class="kn">import</span> <span class="n">CacheMode</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">refresh_content</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">AsyncWebCrawler</span><span class="p">()</span> <span class="k">as</span> <span class="n">crawler</span><span class="p">:</span>
        <span class="c1"># Skip cache and fetch fresh content
</span>        <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">crawler</span><span class="p">.</span><span class="n">arun</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="s">"https://example.com"</span><span class="p">,</span>
            <span class="n">config</span><span class="o">=</span><span class="n">CrawlerRunConfig</span><span class="p">(</span><span class="n">cache_mode</span><span class="o">=</span><span class="n">CacheMode</span><span class="p">.</span><span class="n">BYPASS</span><span class="p">)</span>
        <span class="p">)</span>
</code></pre></div></div> <p>This fetches a fresh copy from the website and updates the cache.</p> <h3 id="example-3-reading-from-cache-only-offline-mode"> <a href="#example-3-reading-from-cache-only-offline-mode" class="anchor-heading" aria-labelledby="example-3-reading-from-cache-only-offline-mode"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example 3: Reading from Cache Only (Offline Mode) </h3> <p>If you want to work offline or reduce server load:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">crawl4ai</span> <span class="kn">import</span> <span class="n">AsyncWebCrawler</span><span class="p">,</span> <span class="n">CrawlerRunConfig</span>
<span class="kn">from</span> <span class="nn">crawl4ai.cache_context</span> <span class="kn">import</span> <span class="n">CacheMode</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">offline_mode</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">AsyncWebCrawler</span><span class="p">()</span> <span class="k">as</span> <span class="n">crawler</span><span class="p">:</span>
        <span class="c1"># Only use cache, don't fetch from the internet
</span>        <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">crawler</span><span class="p">.</span><span class="n">arun</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="s">"https://example.com"</span><span class="p">,</span>
            <span class="n">config</span><span class="o">=</span><span class="n">CrawlerRunConfig</span><span class="p">(</span><span class="n">cache_mode</span><span class="o">=</span><span class="n">CacheMode</span><span class="p">.</span><span class="n">READ_ONLY</span><span class="p">)</span>
        <span class="p">)</span>
</code></pre></div></div> <p>This will only return content if it’s already in the cache, and won’t attempt to download it.</p> <h2 id="how-it-works-under-the-hood"> <a href="#how-it-works-under-the-hood" class="anchor-heading" aria-labelledby="how-it-works-under-the-hood"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> How It Works Under the Hood </h2> <p>When you crawl a URL with caching enabled, here’s what happens behind the scenes:</p><pre><code class="language-mermaid">sequenceDiagram
    participant User as Your Code
    participant WC as WebCrawler
    participant CC as CacheContext
    participant DB as DatabaseManager
    participant Web as Website

    User-&gt;&gt;WC: arun("https://example.com")
    WC-&gt;&gt;CC: should_read()?
    CC-&gt;&gt;WC: Yes
    WC-&gt;&gt;DB: aget_cached_url()
    
    alt URL is in cache
        DB-&gt;&gt;WC: Return cached content
        WC-&gt;&gt;User: Return CrawlResult
    else URL not in cache
        DB-&gt;&gt;WC: Return None
        WC-&gt;&gt;Web: Download page
        Web-&gt;&gt;WC: Return HTML
        WC-&gt;&gt;CC: should_write()?
        CC-&gt;&gt;WC: Yes
        WC-&gt;&gt;DB: acache_url(result)
        WC-&gt;&gt;User: Return CrawlResult
    end
</code></pre><ol> <li>Your code calls <code class="language-plaintext highlighter-rouge">crawler.arun()</code> with a URL</li> <li>The crawler creates a <code class="language-plaintext highlighter-rouge">CacheContext</code> to determine caching behavior</li> <li>If reading from cache is allowed, it checks the database for the URL</li> <li>If the URL is in the cache, it returns the cached content</li> <li>If not, it downloads the page from the website</li> <li>If writing to cache is allowed, it saves the result to the database</li> <li>Finally, it returns the result to your code</li> </ol> <h2 id="implementation-details"> <a href="#implementation-details" class="anchor-heading" aria-labelledby="implementation-details"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Implementation Details </h2> <p>Let’s look at how this is implemented in the code. Here’s a simplified version of how caching works in the <code class="language-plaintext highlighter-rouge">arun</code> method:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># From the AsyncWebCrawler.arun method
</span><span class="k">async</span> <span class="k">def</span> <span class="nf">arun</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">CrawlerRunConfig</span> <span class="o">=</span> <span class="bp">None</span><span class="p">):</span>
    <span class="c1"># Create cache context
</span>    <span class="n">cache_context</span> <span class="o">=</span> <span class="n">CacheContext</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">config</span><span class="p">.</span><span class="n">cache_mode</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
    
    <span class="c1"># Try to get cached result if appropriate
</span>    <span class="k">if</span> <span class="n">cache_context</span><span class="p">.</span><span class="n">should_read</span><span class="p">():</span>
        <span class="n">cached_result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">async_db_manager</span><span class="p">.</span><span class="n">aget_cached_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        
    <span class="k">if</span> <span class="n">cached_result</span><span class="p">:</span>
        <span class="c1"># Use cached content
</span>        <span class="k">return</span> <span class="n">CrawlResultContainer</span><span class="p">(</span><span class="n">cached_result</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Fetch and process new content
</span>        <span class="n">async_response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">.</span><span class="n">crawler_strategy</span><span class="p">.</span><span class="n">crawl</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
        <span class="n">crawl_result</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">.</span><span class="n">aprocess_html</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="n">html</span><span class="o">=</span><span class="n">async_response</span><span class="p">.</span><span class="n">html</span><span class="p">)</span>
        
        <span class="c1"># Update cache if appropriate
</span>        <span class="k">if</span> <span class="n">cache_context</span><span class="p">.</span><span class="n">should_write</span><span class="p">():</span>
            <span class="k">await</span> <span class="n">async_db_manager</span><span class="p">.</span><span class="n">acache_url</span><span class="p">(</span><span class="n">crawl_result</span><span class="p">)</span>
            
        <span class="k">return</span> <span class="n">CrawlResultContainer</span><span class="p">(</span><span class="n">crawl_result</span><span class="p">)</span>
</code></pre></div></div> <p>This simplified code shows the core caching logic:</p> <ol> <li>Create a <code class="language-plaintext highlighter-rouge">CacheContext</code> with the URL and cache mode</li> <li>If we should read from cache, try to get the cached result</li> <li>If we have a cached result, return it</li> <li>Otherwise, fetch and process the content</li> <li>If we should write to cache, save the result</li> <li>Return the result</li> </ol> <p>The actual database operations happen in the <code class="language-plaintext highlighter-rouge">AsyncDatabaseManager</code> class. Here’s a simplified example of how it saves content to the database:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># From the AsyncDatabaseManager.acache_url method
</span><span class="k">async</span> <span class="k">def</span> <span class="nf">acache_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">result</span><span class="p">:</span> <span class="n">CrawlResult</span><span class="p">):</span>
    <span class="c1"># Store content files and get hashes
</span>    <span class="n">content_hashes</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">.</span><span class="n">_store_content_files</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
    
    <span class="c1"># Store metadata in SQLite database
</span>    <span class="k">await</span> <span class="bp">self</span><span class="p">.</span><span class="n">execute_with_retry</span><span class="p">(</span>
        <span class="s">"INSERT INTO crawled_data VALUES (?, ?, ?, ?)"</span><span class="p">,</span>
        <span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">url</span><span class="p">,</span> <span class="n">content_hashes</span><span class="p">[</span><span class="s">"html"</span><span class="p">],</span> <span class="n">content_hashes</span><span class="p">[</span><span class="s">"markdown"</span><span class="p">])</span>
    <span class="p">)</span>
</code></pre></div></div> <p>The <code class="language-plaintext highlighter-rouge">AsyncDatabaseManager</code> does more than just use a database - it also:</p> <ol> <li>Stores large content (HTML, screenshots) as separate files</li> <li>Uses hash values to avoid duplicating content</li> <li>Manages database connections efficiently</li> <li>Handles errors and retries failed operations</li> </ol> <h2 id="advanced-usage-optimizing-caching"> <a href="#advanced-usage-optimizing-caching" class="anchor-heading" aria-labelledby="advanced-usage-optimizing-caching"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Advanced Usage: Optimizing Caching </h2> <p>Here are some tips for getting the most out of the Caching System:</p> <h3 id="memory-efficient-crawling"> <a href="#memory-efficient-crawling" class="anchor-heading" aria-labelledby="memory-efficient-crawling"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Memory-Efficient Crawling </h3> <p>If you’re crawling many pages but don’t need to update the cache:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">crawl4ai</span> <span class="kn">import</span> <span class="n">AsyncWebCrawler</span><span class="p">,</span> <span class="n">CrawlerRunConfig</span>
<span class="kn">from</span> <span class="nn">crawl4ai.cache_context</span> <span class="kn">import</span> <span class="n">CacheMode</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">memory_efficient_crawl</span><span class="p">():</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">CrawlerRunConfig</span><span class="p">(</span>
        <span class="n">cache_mode</span><span class="o">=</span><span class="n">CacheMode</span><span class="p">.</span><span class="n">READ_ONLY</span><span class="p">,</span>  <span class="c1"># Don't write to cache
</span>        <span class="n">screenshot</span><span class="o">=</span><span class="bp">False</span>  <span class="c1"># Screenshots use a lot of storage
</span>    <span class="p">)</span>
    
    <span class="k">async</span> <span class="k">with</span> <span class="n">AsyncWebCrawler</span><span class="p">()</span> <span class="k">as</span> <span class="n">crawler</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">crawler</span><span class="p">.</span><span class="n">arun</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s">"https://example.com"</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
</code></pre></div></div> <h3 id="refreshing-specific-content-types"> <a href="#refreshing-specific-content-types" class="anchor-heading" aria-labelledby="refreshing-specific-content-types"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Refreshing Specific Content Types </h3> <p>Sometimes you want to update screenshots but use cached text:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">async</span> <span class="k">def</span> <span class="nf">refresh_screenshots</span><span class="p">():</span>
    <span class="c1"># First check if we have a cached version
</span>    <span class="n">config_check</span> <span class="o">=</span> <span class="n">CrawlerRunConfig</span><span class="p">(</span><span class="n">cache_mode</span><span class="o">=</span><span class="n">CacheMode</span><span class="p">.</span><span class="n">READ_ONLY</span><span class="p">)</span>
    
    <span class="k">async</span> <span class="k">with</span> <span class="n">AsyncWebCrawler</span><span class="p">()</span> <span class="k">as</span> <span class="n">crawler</span><span class="p">:</span>
        <span class="n">cached</span> <span class="o">=</span> <span class="k">await</span> <span class="n">crawler</span><span class="p">.</span><span class="n">arun</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s">"https://example.com"</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config_check</span><span class="p">)</span>
        
        <span class="c1"># If we have text but no screenshot, get a fresh version with screenshot
</span>        <span class="k">if</span> <span class="n">cached</span><span class="p">.</span><span class="n">success</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">cached</span><span class="p">.</span><span class="n">screenshot</span><span class="p">:</span>
            <span class="n">config_refresh</span> <span class="o">=</span> <span class="n">CrawlerRunConfig</span><span class="p">(</span>
                <span class="n">cache_mode</span><span class="o">=</span><span class="n">CacheMode</span><span class="p">.</span><span class="n">ENABLED</span><span class="p">,</span>
                <span class="n">screenshot</span><span class="o">=</span><span class="bp">True</span>
            <span class="p">)</span>
            <span class="k">await</span> <span class="n">crawler</span><span class="p">.</span><span class="n">arun</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s">"https://example.com"</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config_refresh</span><span class="p">)</span>
</code></pre></div></div> <h3 id="clearing-the-cache"> <a href="#clearing-the-cache" class="anchor-heading" aria-labelledby="clearing-the-cache"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Clearing the Cache </h3> <p>If you need to clear the cache:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">crawl4ai.async_database</span> <span class="kn">import</span> <span class="n">async_db_manager</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">clear_cache</span><span class="p">():</span>
    <span class="c1"># Clear all cached data
</span>    <span class="k">await</span> <span class="n">async_db_manager</span><span class="p">.</span><span class="n">aclear_db</span><span class="p">()</span>
    
    <span class="c1"># Or completely rebuild the database
</span>    <span class="k">await</span> <span class="n">async_db_manager</span><span class="p">.</span><span class="n">aflush_db</span><span class="p">()</span>
    <span class="k">await</span> <span class="n">async_db_manager</span><span class="p">.</span><span class="n">ainit_db</span><span class="p">()</span>
</code></pre></div></div> <p>Be careful with these operations, as they will delete all your cached data!</p> <h2 id="conclusion"> <a href="#conclusion" class="anchor-heading" aria-labelledby="conclusion"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Conclusion </h2> <p>The Caching System in crawl4ai is like your personal web library - it stores copies of web content you’ve already downloaded, saving time and resources when you need to access the same content again.</p> <p>In this chapter, we learned:</p> <ul> <li>How the Caching System stores and retrieves web content</li> <li>How to control caching behavior with the <code class="language-plaintext highlighter-rouge">CacheMode</code> enum</li> <li>How the <code class="language-plaintext highlighter-rouge">CacheContext</code> and <code class="language-plaintext highlighter-rouge">AsyncDatabaseManager</code> work together</li> <li>How to use the cache effectively for different scenarios</li> </ul> <p>Using the Caching System makes your web crawling more efficient and respectful to the websites you’re crawling. Instead of repeatedly downloading the same content, you can use your local copies, reducing network traffic and making your crawling faster.</p> <p>In the next chapter, <a href="07_dispatcher_framework_.md">Dispatcher Framework</a>, we’ll learn how to manage multiple crawling tasks efficiently using the dispatcher system.</p><hr /> <p>Generated by <a href="https://github.com/The-Pocket/Tutorial-Codebase-Knowledge">AI Codebase Knowledge Builder</a></p> </main> </div> </div> <div class="search-overlay"></div> </div> <script type="module"> import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11.6.0/dist/mermaid.esm.min.mjs'; var config = {} ; mermaid.initialize(config); mermaid.run({ querySelector: '.language-mermaid', }); </script> </body> </html>
